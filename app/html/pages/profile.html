<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Frontend side of jlblog application" />
    <link
      rel="apple-touch-icon"
      sizes="57x57"
      href="/app/assets/icon/apple-icon-57x57.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="60x60"
      href="/app/assets/icon/apple-icon-60x60.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="72x72"
      href="/app/assets/icon/apple-icon-72x72.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="76x76"
      href="/app/assets/icon/apple-icon-76x76.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="114x114"
      href="/app/assets/icon/apple-icon-114x114.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="120x120"
      href="app/assets/icon/apple-icon-120x120.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="144x144"
      href="app/assets/icon/apple-icon-144x144.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="152x152"
      href="/app/assets/icon/apple-icon-152x152.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/app/assets/icon/apple-icon-180x180.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="/app/assets/icon/android-icon-192x192.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/app/assets/icon/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="96x96"
      href="/app/assets/icon/favicon-96x96.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/app/assets/icon/favicon-16x16.png"
    />
    <link rel="manifest" href="app/assets/icon/manifest.json" />
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png" />
    <meta name="theme-color" content="#ffffff" />
    <link rel="stylesheet" href="/app/styles/css/profile.css" />
    <title>Perfil</title>
  </head>
  <body>
    <header class="pageHeader">
      <h1 class="pageHeader__title">jlblog</h1>

      <nav class="pageHeader__nav">
        <ul class="pageHeader__nav__ul">
          <li class="pageHeader__nav__ul__li">
            <a href="javascript:history.back()">Atrás</a>
          </li>
        </ul>
      </nav>
    </header>
    <main class="mainPage">
      <article class="userData">
        <p class="userData__data userData__txt">
          _id: <span id="userId"></span>
        </p>
        <p class="userData__data userData__txt">
          role: <span id="userRole"></span>
        </p>
        <div class="userData__data">
          <button class="userData__data__editBtn" data-form="updateUsername">
            <img
              class="userData__data__editBtn__img"
              src="/app/assets/img/pencil.png"
              alt="edit"
            />
          </button>
          <p class="userData__data__txt">
            username: <span id="userUsername"></span>
          </p>
          <user-form
            class="userData__update hidden"
            data-close
            data-submit="Cambiar username"
            id="updateUsername"
          >
            <input
              type="text"
              name="newUsername"
              id="usernameInput"
              class="userForm__input"
              pattern="^([a-zA-Z0-9]{4,15})$"
              minlength="4"
              maxlength="15"
              data-perror="Username debe contener entre 4 y 15 caracteres sin espacios"
              required
              data-label="nuevo username"
            />
          </user-form>
        </div>
        <div class="userData__data">
          <button class="userData__data__editBtn" data-form="updateEmail">
            <img
              class="userData__data__editBtn__img"
              src="/app/assets/img/pencil.png"
              alt="edit"
            />
          </button>
          <p class="userData__txt">email: <span id="userEmail"></span></p>
          <user-form
            class="userData__update hidden"
            data-close
            data-submit="cambiar email"
            id="updateEmail"
          >
            <input
              type="email"
              name="newEmail"
              id="newEmailInput"
              class="userForm__input"
              pattern="^[\w\.-]+@([\w-]+\.)+[\w-]{2,4}$"
              data-perror="Debes ingresar un email válido"
              required
              data-label="nuevo email"
            />
            <input
              type="password"
              name="password"
              id="nePasswordInput"
              class="userForm__input"
              pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[A-Za-z\d]{8,}.*$"
              data-perror="la contraseña debe contener 8 caracters y al menos una mayúscula, una minúscula y un número"
              required
              data-label="Contraseña"
            />
          </user-form>
        </div>
        <div class="userData__data">
          <button class="userData__data__editBtn" data-form="updatePassword">
            <img
              class="userData__data__editBtn__img"
              src="/app/assets/img/pencil.png"
              alt="edit"
            />
          </button>
          <p class="userData__txt">password</p>
          <user-form
            class="userData__update hidden"
            data-close
            data-submit="Cambiar contraseña"
            id="updatePassword"
          >
            <input
              type="password"
              name="oldPassword"
              id="oldPasswordInput"
              class="userForm__input"
              pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[A-Za-z\d]{8,}.*$"
              data-perror="la contraseña debe contener 8 caracters y al menos una mayúscula, una minúscula y un número"
              required
              data-label="Contraseña actual"
            />
            <input
              type="password"
              name="newPassword"
              id="newPasswordInput"
              class="userForm__input"
              pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[A-Za-z\d]{8,}.*$"
              data-perror="la contraseña debe contener 8 caracters y al menos una mayúscula, una minúscula y un número"
              required
              data-label="Contraseña nueva"
            />
          </user-form>
        </div>
        <div class="userData__posts">
          <a class="profileLink" href="./own_posts.html">Ver mis posts</a>
          <a class="profileLink" href="./liked_posts.html">Posts guardados</a>
        </div>
      </article>
    </main>
    <footer class="pageFooter">
      <a class="profileLink" href="/app/html/pages/unregister.html"
        >Eliminar cuenta</a
      >
      <button class="pageFooter__btn" id="endSession">Cerrar sesión</button>
    </footer>
    <div class="loader" id="loader"></div>
    <script src="/app/scripts/profile.js" type="module"></script>
    <script src="/app/scripts/helpers/animated_input.js" type="module"></script>
    <script
      src="/app/scripts/components/userForm.component.js"
      type="module"
    ></script>
  </body>
</html>
